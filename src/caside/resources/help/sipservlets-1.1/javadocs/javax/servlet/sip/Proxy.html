<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_14) on Fri Jun 27 17:25:14 PDT 2008 -->
<TITLE>
Proxy (SIP Servlet API 1.1)
</TITLE>

<META NAME="keywords" CONTENT="javax.servlet.sip.Proxy interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Proxy (SIP Servlet API 1.1)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/servlet/sip/Parameterable.html" title="interface in javax.servlet.sip"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/servlet/sip/Proxy.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Proxy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.servlet.sip</FONT>
<BR>
Interface Proxy</H2>
<HR>
<DL>
<DT><PRE>public interface <B>Proxy</B></DL>
</PRE>

<P>
Represents the operation of proxying a SIP request.
 
 <p>A number of parameters control how proxying is carried out:
 <dl>
 <dt><b>addToPath</b>:
 <dd> addToPath: Whether the application adds a Path header to the REGISTER request. The default is false.
 <dt><b>recurse</b>: 
 <dd>Whether to autmotically recurse or not. The default is true.
 
 <dt><b>recordRoute</b>: 
 <dd>Whether to record-route or not. The default is false.
 
 <dt><b>parallel</b>: 
 <dd>Whether to proxy in parallel or sequentially. The default is true.
 
 <dt><b>stateful</b>: 
 <dd>Whether to remain transaction stateful for the duration of the
     proxying operation. The default is true.
 
 <dt><b>supervised</b>: 
 <dd>Whether the application will be invoked on incoming responses related to this proxying.
 
 <dt><b>proxyTimeout</b>: 
 <dd>The timeout for the proxy in general. In case the proxy is a sequential proxy
 then this value behaves like the sequential-search-timeout
 which is deprecated since v1.1. In case the proxy is a parallel proxy then this timeout acts as 
 the timeout for the entire proxy i.e each of its parallel branches before it starts
 to send out CANCELs waiting for final responses on all INVITE branches and sends the 
 best final response upstream.  
 
 <dt><b>sequentialSearchTimeout</b>:
 <dd>The time the container waits for a final response before it CANCELs
 the branch and proxies to the next destination in the target set. The usage of 
 this explicit sequential timeout setting is <b>deprecated</b> and replaced by a general 
 <code>proxyTimeout</code> parameter. 
 </dl>
 
 The effect of the various parameters is explained further below.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#cancel()">cancel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cancels this proxy transaction and any of its child branches if recursion 
 was enabled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#cancel(java.lang.String[], int[], java.lang.String[])">cancel</A></B>(java.lang.String[]&nbsp;protocol,
       int[]&nbsp;reasonCode,
       java.lang.String[]&nbsp;reasonText)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This overloaded method of <A HREF="../../../javax/servlet/sip/Proxy.html#cancel()"><CODE>cancel()</CODE></A> provides a way to specify the
 reason for cancelling this <code>Proxy</code> by including the appropriate
 Reason headers [RFC 3326].</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)">createProxyBranches</A></B>(java.util.List&lt;? extends <A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</A>&gt;&nbsp;targets)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the list of <A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><CODE>ProxyBranch</CODE></A> objects given a set of targets.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getAddToPath()">getAddToPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if subsequent invocations of <A HREF="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)"><CODE>proxyTo(URI)</CODE></A> or <A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()"><CODE>startProxy()</CODE></A> will add a Path header
 to the proxied request, false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getNoCancel()">getNoCancel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if the proxy will not cancel outstanding
 branches upon receiving the first 2xx INVITE response as in RFC 3841</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/servlet/sip/SipServletRequest.html" title="interface in javax.servlet.sip">SipServletRequest</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getOriginalRequest()">getOriginalRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the request received from the upstream caller.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getParallel()">getParallel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this proxy object is set to proxy in parallel, or
 false if it is set to proxy sequentially.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getPathURI()">getPathURI</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a <code>SipURI</code> that the application can use to
 add parameters to the Path header.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getProxyBranch(javax.servlet.sip.URI)">getProxyBranch</A></B>(<A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</A>&nbsp;uri)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Any branch has a primary URI associated with it, using which it was
 created.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getProxyBranches()">getProxyBranches</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;More than one branches are associated with a proxy when <A HREF="../../../javax/servlet/sip/Proxy.html#proxyTo(java.util.List)"><CODE>proxyTo(List)</CODE></A> or <A HREF="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><CODE>createProxyBranches(List)</CODE></A>
 is used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getProxyTimeout()">getProxyTimeout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The current value of the overall proxy timeout value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getRecordRoute()">getRecordRoute</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if subsequent invocations of <A HREF="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)"><CODE>proxyTo(URI)</CODE></A>
 will add a Record-Route header to the proxied request, false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getRecordRouteURI()">getRecordRouteURI</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a <code>SipURI</code> that the application can use to
 add parameters to the Record-Route header.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getRecurse()">getRecurse</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this proxy object is set to recurse, or false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getSequentialSearchTimeout()">getSequentialSearchTimeout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>use a more general purpose <A HREF="../../../javax/servlet/sip/Proxy.html#getProxyTimeout()"><CODE>getProxyTimeout()</CODE></A></I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getStateful()">getStateful</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>stateless proxy is no longer supported</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#getSupervised()">getSupervised</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the controlling servlet will be invoked on incoming
 responses for this proxying operation, and false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#proxyTo(java.util.List)">proxyTo</A></B>(java.util.List&lt;? extends <A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</A>&gt;&nbsp;uris)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Proxies a SIP request to the specified set of destinations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)">proxyTo</A></B>(<A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</A>&nbsp;uri)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Proxies a SIP request to the specified destination.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setAddToPath(boolean)">setAddToPath</A></B>(boolean&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies whether branches initiated in this proxy operation should
 include a Path header for the REGISTER request for this servlet
 container or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setNoCancel(boolean)">setNoCancel</A></B>(boolean&nbsp;noCancel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies whether the proxy should, or should not cancel outstanding
 branches upon receiving the first 2xx INVITE response as defined
 in RFC 3841.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setOutboundInterface(java.net.InetAddress)">setOutboundInterface</A></B>(java.net.InetAddress&nbsp;address)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In multi-homed environment this method can be used to select
 the outbound interface to use when sending requests for proxy branches.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setOutboundInterface(java.net.InetSocketAddress)">setOutboundInterface</A></B>(java.net.InetSocketAddress&nbsp;address)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In multi-homed environment this method can be used to select
 the outbound interface and port number to use for proxy branches.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setParallel(boolean)">setParallel</A></B>(boolean&nbsp;parallel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies whether to proxy in parallel or sequentially.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setProxyTimeout(int)">setProxyTimeout</A></B>(int&nbsp;seconds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the overall proxy timeout.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setRecordRoute(boolean)">setRecordRoute</A></B>(boolean&nbsp;rr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies whether branches initiated in this proxy operation should
 include a Record-Route header for this servlet engine or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setRecurse(boolean)">setRecurse</A></B>(boolean&nbsp;recurse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies whether the servlet engine will automatically recurse or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setSequentialSearchTimeout(int)">setSequentialSearchTimeout</A></B>(int&nbsp;seconds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>use a more general purpose <A HREF="../../../javax/servlet/sip/Proxy.html#setProxyTimeout(int)"><CODE>setProxyTimeout(int)</CODE></A></I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setStateful(boolean)">setStateful</A></B>(boolean&nbsp;stateful)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>stateless proxy is no longer supported</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#setSupervised(boolean)">setSupervised</A></B>(boolean&nbsp;supervised)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies whether the controlling servlet is to be invoked for
 incoming responses relating to this proxying.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()">startProxy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Proxies a SIP request to the set of destinations previously specified
 in <A HREF="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><CODE>createProxyBranches(java.util.List<? extends javax.servlet.sip.URI>)</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getOriginalRequest()"><!-- --></A><H3>
getOriginalRequest</H3>
<PRE>
<A HREF="../../../javax/servlet/sip/SipServletRequest.html" title="interface in javax.servlet.sip">SipServletRequest</A> <B>getOriginalRequest</B>()</PRE>
<DL>
<DD>Returns the request received from the upstream caller.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>object representing the incoming request that was proxied</DL>
</DD>
</DL>
<HR>

<A NAME="proxyTo(javax.servlet.sip.URI)"><!-- --></A><H3>
proxyTo</H3>
<PRE>
void <B>proxyTo</B>(<A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</A>&nbsp;uri)</PRE>
<DL>
<DD>Proxies a SIP request to the specified destination.
 
 <p>Implementations are required to support <code>SipURI</code>
 arguments and may support other types of URIs.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uri</CODE> - specifies the destination to proxy to
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the transaction has already completed
<DD><CODE>java.lang.IllegalArgumentException</CODE> - e.g. if the scheme of the specified
      URI is not supported for proxying
<DD><CODE>java.lang.NullPointerException</CODE> - if the uri is null</DL>
</DD>
</DL>
<HR>

<A NAME="proxyTo(java.util.List)"><!-- --></A><H3>
proxyTo</H3>
<PRE>
void <B>proxyTo</B>(java.util.List&lt;? extends <A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</A>&gt;&nbsp;uris)</PRE>
<DL>
<DD>Proxies a SIP request to the specified set of destinations.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uris</CODE> - a list of <A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip"><CODE>URI</CODE></A> objects to proxy to
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the transaction has already completed
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if any of the destination URIs
         contains a scheme that is not supported for proxying
<DD><CODE>java.lang.NullPointerException</CODE> - if any of the URI in the List is null.</DL>
</DD>
</DL>
<HR>

<A NAME="cancel()"><!-- --></A><H3>
cancel</H3>
<PRE>
void <B>cancel</B>()</PRE>
<DL>
<DD>Cancels this proxy transaction and any of its child branches if recursion 
 was enabled.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the transaction has completed</DL>
</DD>
</DL>
<HR>

<A NAME="cancel(java.lang.String[], int[], java.lang.String[])"><!-- --></A><H3>
cancel</H3>
<PRE>
void <B>cancel</B>(java.lang.String[]&nbsp;protocol,
            int[]&nbsp;reasonCode,
            java.lang.String[]&nbsp;reasonText)</PRE>
<DL>
<DD>This overloaded method of <A HREF="../../../javax/servlet/sip/Proxy.html#cancel()"><CODE>cancel()</CODE></A> provides a way to specify the
 reason for cancelling this <code>Proxy</code> by including the appropriate
 Reason headers [RFC 3326].
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>protocol</CODE> - describes the source of the 'cause' field in the Reason header field.<DD><CODE>reasonCode</CODE> - corresponds to the 'cause' field. For eg, if protocol is SIP, the reasonCode
 would be the status code of the response which caused the cancel<DD><CODE>reasonText</CODE> - describes the reason for cancelling the <code>Proxy</code>.<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRecurse()"><!-- --></A><H3>
getRecurse</H3>
<PRE>
boolean <B>getRecurse</B>()</PRE>
<DL>
<DD>Returns true if this proxy object is set to recurse, or false otherwise.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if proxying is enabled, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="setRecurse(boolean)"><!-- --></A><H3>
setRecurse</H3>
<PRE>
void <B>setRecurse</B>(boolean&nbsp;recurse)</PRE>
<DL>
<DD>Specifies whether the servlet engine will automatically recurse or not.
 If recursion is enabled the servlet engine will automatically attempt
 to proxy to contact addresses received in redirect (3xx) responses.
 If recursion is disabled and no better response is received, a redirect
 response will be passed to the application and will be passed upstream
 towards the client.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recurse</CODE> - if true enables recursion, otherwise disables it</DL>
</DD>
</DL>
<HR>

<A NAME="getRecordRoute()"><!-- --></A><H3>
getRecordRoute</H3>
<PRE>
boolean <B>getRecordRoute</B>()</PRE>
<DL>
<DD>Returns true if subsequent invocations of <A HREF="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)"><CODE>proxyTo(URI)</CODE></A>
 will add a Record-Route header to the proxied request, false otherwise.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>value of the "recordroute" flag</DL>
</DD>
</DL>
<HR>

<A NAME="setRecordRoute(boolean)"><!-- --></A><H3>
setRecordRoute</H3>
<PRE>
void <B>setRecordRoute</B>(boolean&nbsp;rr)</PRE>
<DL>
<DD>Specifies whether branches initiated in this proxy operation should
 include a Record-Route header for this servlet engine or not. This shall
 affect all the branches created after its invocation.
 
 <p>Record-routing is used to specify that this servlet engine must
 stay on the signaling path of subsequent requests.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rr</CODE> - if true the engine will record-route, otherwise it won't
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the proxy has already been started</DL>
</DD>
</DL>
<HR>

<A NAME="getParallel()"><!-- --></A><H3>
getParallel</H3>
<PRE>
boolean <B>getParallel</B>()</PRE>
<DL>
<DD>Returns true if this proxy object is set to proxy in parallel, or
 false if it is set to proxy sequentially.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>value of the "parallel" flag</DL>
</DD>
</DL>
<HR>

<A NAME="setParallel(boolean)"><!-- --></A><H3>
setParallel</H3>
<PRE>
void <B>setParallel</B>(boolean&nbsp;parallel)</PRE>
<DL>
<DD>Specifies whether to proxy in parallel or sequentially.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>parallel</CODE> - if true the servlet engine will proxy to all
      destinations in parallel, otherwise it will proxy to one at a time</DL>
</DD>
</DL>
<HR>

<A NAME="getStateful()"><!-- --></A><H3>
getStateful</H3>
<PRE>
boolean <B>getStateful</B>()</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>stateless proxy is no longer supported</I>
<P>
<DD>Returns true if this proxy operation is transaction stateful
 (the default), or false if it is stateless.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>always returns <code>true</code></DL>
</DD>
</DL>
<HR>

<A NAME="setStateful(boolean)"><!-- --></A><H3>
setStateful</H3>
<PRE>
void <B>setStateful</B>(boolean&nbsp;stateful)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>stateless proxy is no longer supported</I>
<P>
<DD>Specifies whether the server should proxy statelessly or not,
 that is whether it should maintain transaction state whilst the
 proxying operation is in progress.
 
 <p>This proxy parameter is a hint only. Implementations may
 choose to maintain transaction state regardless of the value of
 this flag, but if so the application will not be invoked again
 for this transaction.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stateful</CODE> - if true the proxy operation will be stateful</DL>
</DD>
</DL>
<HR>

<A NAME="getSupervised()"><!-- --></A><H3>
getSupervised</H3>
<PRE>
boolean <B>getSupervised</B>()</PRE>
<DL>
<DD>Returns true if the controlling servlet will be invoked on incoming
 responses for this proxying operation, and false otherwise.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the application will be invoked for responses,
      and false if not</DL>
</DD>
</DL>
<HR>

<A NAME="setSupervised(boolean)"><!-- --></A><H3>
setSupervised</H3>
<PRE>
void <B>setSupervised</B>(boolean&nbsp;supervised)</PRE>
<DL>
<DD>Specifies whether the controlling servlet is to be invoked for
 incoming responses relating to this proxying.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>supervised</CODE> - if true, the servlet invoked to handle the request
      originally received will be notified when the "best" response
      is received.</DL>
</DD>
</DL>
<HR>

<A NAME="getProxyTimeout()"><!-- --></A><H3>
getProxyTimeout</H3>
<PRE>
int <B>getProxyTimeout</B>()</PRE>
<DL>
<DD>The current value of the overall proxy timeout value. 
 This is measured in seconds.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>current value of proxy timeout in seconds.<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSequentialSearchTimeout()"><!-- --></A><H3>
getSequentialSearchTimeout</H3>
<PRE>
int <B>getSequentialSearchTimeout</B>()</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>use a more general purpose <A HREF="../../../javax/servlet/sip/Proxy.html#getProxyTimeout()"><CODE>getProxyTimeout()</CODE></A></I>
<P>
<DD>Returns the current value of the sequential search timeout parameter.
 This is measured in seconds.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>current value of the sequential search timeout parameter</DL>
</DD>
</DL>
<HR>

<A NAME="setProxyTimeout(int)"><!-- --></A><H3>
setProxyTimeout</H3>
<PRE>
void <B>setProxyTimeout</B>(int&nbsp;seconds)</PRE>
<DL>
<DD>Sets the overall proxy timeout. If this proxy is a sequential
 proxy then the behavior is same as the erstwhile <A HREF="../../../javax/servlet/sip/Proxy.html#setSequentialSearchTimeout(int)"><CODE>setSequentialSearchTimeout(int)</CODE></A>. 
 Further the value set through this method shall override any explicit 
 sequential value set through deprecated <A HREF="../../../javax/servlet/sip/Proxy.html#setSequentialSearchTimeout(int)"><CODE>setSequentialSearchTimeout(int)</CODE></A>.
 On the other hand if the proxy is parallel then this acts as the upper limit  
 for the entire proxy operation resulting in equivalent of invoking <A HREF="../../../javax/servlet/sip/Proxy.html#cancel()"><CODE>cancel()</CODE></A> if the 
 the proxy did not complete during this time, which means that a final response was not 
 sent upstream.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>seconds</CODE> - seconds waited for each branch in case proxy is sequential and
                overall wait for parallel proxy.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the container cannot set the value as requested because it is too high, too low or negative<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSequentialSearchTimeout(int)"><!-- --></A><H3>
setSequentialSearchTimeout</H3>
<PRE>
void <B>setSequentialSearchTimeout</B>(int&nbsp;seconds)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>use a more general purpose <A HREF="../../../javax/servlet/sip/Proxy.html#setProxyTimeout(int)"><CODE>setProxyTimeout(int)</CODE></A></I>
<P>
<DD>Sets the sequential search timeout value for this
 <code>Proxy</code> object. This is the amount of time the
 container waits for a final response when proxying
 sequentially. When the timer expires the container CANCELs the
 current branch and proxies to the next element in the target
 set.
 
 <p>The container is free to ignore this parameter.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>seconds</CODE> - seconds waited for a final responses when proxying
     sequentially</DL>
</DD>
</DL>
<HR>

<A NAME="getRecordRouteURI()"><!-- --></A><H3>
getRecordRouteURI</H3>
<PRE>
<A HREF="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</A> <B>getRecordRouteURI</B>()</PRE>
<DL>
<DD>Returns a <code>SipURI</code> that the application can use to
 add parameters to the Record-Route header. This is used by
 record-routing proxy applications in order to push state to the
 endpoints and have it returned in subsequent requests belonging
 to the same dialog.
 
 <p>Parameters added through a URI returned by this method can
 be retrieved from a subsequent request in the same dialog by
 calling <CODE>ServletRequest.getParameter(java.lang.String)</CODE>.
 
 <p>Note that the URI returned is good <em>only</em> for
 specifying a set of parameters that the application can
 retrieve when invoked to handle subsequent requests in the same
 dialog. Other components of the URI are irrelevant and cannot
 be trusted to reflect the actual values that the container will
 be using when inserting a Record-Route header into proxied
 request.

 <p>Applications must not set SIP URI parameters defined in RFC3261.
 This includes transport, user, method, ttl, maddr, and lr. Other
 components of the URI, e.g. host, port, and URI scheme must also not
 by modified by the application. These Record-Route URI components will
 be populated by the container and may or may not have valid values at
 the time an application proxies a request. Any attempt to set these
 parameters or URI contents will thrown an IllegalArgumentException.
 
 Record Route parameters thus added affect the branches created right after.
 If there are branches that were created prior to this modification then they
 MUST continue to have the Record-Route header as was when they were created.
 This means that the <A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><CODE>ProxyBranch</CODE></A> gets a cloned copy of the header.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>SIP URI whose parameters can be modified and then retrieved
     by this application when processing subsequent requests in the
     same SIP dialog
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if record-routing is not enabled</DL>
</DD>
</DL>
<HR>

<A NAME="createProxyBranches(java.util.List)"><!-- --></A><H3>
createProxyBranches</H3>
<PRE>
java.util.List&lt;<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</A>&gt; <B>createProxyBranches</B>(java.util.List&lt;? extends <A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</A>&gt;&nbsp;targets)</PRE>
<DL>
<DD>Returns the list of <A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><CODE>ProxyBranch</CODE></A> objects given a set of targets.

 The resulting branches will not have associated client transactions
 until <A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()"><CODE>startProxy()</CODE></A> is invoked.

 <p>Implementations are required to support <code>SipURI</code>
 arguments and may support other types of URIs.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>targets</CODE> - a list of <A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip"><CODE>URI</CODE></A> objects to proxy to
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if any of the destination URIs
         contains a scheme that is not supported for proxying<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProxyBranch(javax.servlet.sip.URI)"><!-- --></A><H3>
getProxyBranch</H3>
<PRE>
<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</A> <B>getProxyBranch</B>(<A HREF="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</A>&nbsp;uri)</PRE>
<DL>
<DD>Any branch has a primary URI associated with it, using which it was
 created. The ProxyBranch may have been created using <A HREF="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><CODE>createProxyBranches(List)</CODE></A> 
 method, implicitly when <code>proxyTo()</code> is called or when any of the proxy branch recurses
 as a result of a redirect response. A URI uniquely identifies a branch.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uri</CODE> - URI using which the ProxyBranch may have been created
<DT><B>Returns:</B><DD>ProxyBranch associated with the uri<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProxyBranches()"><!-- --></A><H3>
getProxyBranches</H3>
<PRE>
java.util.List&lt;<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</A>&gt; <B>getProxyBranches</B>()</PRE>
<DL>
<DD>More than one branches are associated with a proxy when <A HREF="../../../javax/servlet/sip/Proxy.html#proxyTo(java.util.List)"><CODE>proxyTo(List)</CODE></A> or <A HREF="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><CODE>createProxyBranches(List)</CODE></A>
 is used. This method returns the <b>top</b> level branches thus created. If recursion is enabled on 
 proxy or on any of its branches then on receipt of a 3xx class response on that branch, the branch may recurse into sub-branches. This method 
 returns just the top level branches started.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>all the the top level branches associated with this proxy<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="startProxy()"><!-- --></A><H3>
startProxy</H3>
<PRE>
void <B>startProxy</B>()</PRE>
<DL>
<DD>Proxies a SIP request to the set of destinations previously specified
 in <A HREF="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><CODE>createProxyBranches(java.util.List<? extends javax.servlet.sip.URI>)</CODE></A>. This method will actually start
 the proxy branches and their associated client transactions.

 For example,
 <pre>
   List<ProxyBranch> branches = proxy.createProxyBranches(targets);
   proxy.startProxy();
 </pre>
 is essentially equivalent to <code>Proxy.proxyTo(targets)</code>,
 with the former giving the application finer control over the
 individual proxy branches through the <A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><CODE>ProxyBranch</CODE></A> class. Since the 
 <A HREF="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><CODE>createProxyBranches(List)</CODE></A> can be invoked multiple times before
 the <code>startProxy</code> method the effect of <code>startProxy</code> is 
 to start all the branches added in the target set.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the branches have not yet been created
         or the proxy is already completed (final response sent upstream).<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setOutboundInterface(java.net.InetSocketAddress)"><!-- --></A><H3>
setOutboundInterface</H3>
<PRE>
void <B>setOutboundInterface</B>(java.net.InetSocketAddress&nbsp;address)</PRE>
<DL>
<DD>In multi-homed environment this method can be used to select
 the outbound interface and port number to use for proxy branches.
 The specified address must be the address of one of the configured
 outbound interfaces. The set of SipURI objects which represent the
 supported outbound interfaces can be obtained from the servlet context
 attribute named <code>javax.servlet.sip.outboundInterfaces</code>.

 <p>The port is interpreted as an advice by the app to the container.
 If the port of the socket address has a non-zero value, the container
 will make a best-effort attempt to use it as the source port number
 for UDP packets, or as a source port number for TCP connections it
 originates. If the port is not available, the container will use
 its default port allocation scheme.
 <p>Invocation of this method also impacts the system headers
 generated by the container for this Proxy, such as the
 <code>Record-Route</code> header (<A HREF="../../../javax/servlet/sip/Proxy.html#getRecordRouteURI()"><CODE>getRecordRouteURI()</CODE></A>),
 the <code>Via</code> and the <code>Contact</code> header.
 The IP address part of the socket <code>address</code> is used to construct
 these system headers.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>address</CODE> - the socket address representing the outbound interface to use when
             forwarding requests with this proxy
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the <code>address</code> is not understood
                                  by the container as one of its outbound interface
<DD><CODE>java.lang.NullPointerException</CODE> - on null <code>address</code><DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setOutboundInterface(java.net.InetAddress)"><!-- --></A><H3>
setOutboundInterface</H3>
<PRE>
void <B>setOutboundInterface</B>(java.net.InetAddress&nbsp;address)</PRE>
<DL>
<DD>In multi-homed environment this method can be used to select
 the outbound interface to use when sending requests for proxy branches.
 The specified address must be the address of one of the configured
 outbound interfaces. The set of SipURI objects which represent the
 supported outbound interfaces can be obtained from the servlet context
 attribute named <code>javax.servlet.sip.outboundInterfaces</code>.
 <p>Invocation of this method also impacts the system headers
 generated by the container for the branches, such as the
 <code>Record-Route</code> header (<A HREF="../../../javax/servlet/sip/Proxy.html#getRecordRouteURI()"><CODE>getRecordRouteURI()</CODE></A>) and
 the <code>Via</code>. The specified IP address is used to construct
 these system headers.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>address</CODE> - the address which represents the outbound interface
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if this method is called on an invalidated session
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the <code>address</code> does not
                                  represent one of the container's outbound interfaces
<DD><CODE>java.lang.NullPointerException</CODE> - on null <code>address</code><DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAddToPath()"><!-- --></A><H3>
getAddToPath</H3>
<PRE>
boolean <B>getAddToPath</B>()</PRE>
<DL>
<DD>Returns true if subsequent invocations of <A HREF="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)"><CODE>proxyTo(URI)</CODE></A> or <A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()"><CODE>startProxy()</CODE></A> will add a Path header
 to the proxied request, false otherwise.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>value of the "addToPath" flag<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setAddToPath(boolean)"><!-- --></A><H3>
setAddToPath</H3>
<PRE>
void <B>setAddToPath</B>(boolean&nbsp;p)</PRE>
<DL>
<DD>Specifies whether branches initiated in this proxy operation should
 include a Path header for the REGISTER request for this servlet
 container or not. The Path header field for the container should be
 on top of any application pushed Path header fields (pushed using the 
 <code>SipServletRequest.pushPath()</code> API).

 <p>Path header is used to specify that this Proxy must
 stay on the signaling path of subsequent requests sent to the
 Registered UA from the Home Proxy in the network. As a best practice,
 before calling this method a proxy should check if the UA has indicated
 support for the Path extension by checking the Supported header field
 value in the request being proxied. The detailed procedure of Path header
 handling is defined in RFC 3327.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - if true the container will add Path header<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPathURI()"><!-- --></A><H3>
getPathURI</H3>
<PRE>
<A HREF="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</A> <B>getPathURI</B>()</PRE>
<DL>
<DD>Returns a <code>SipURI</code> that the application can use to
 add parameters to the Path header. This may be used by
 Path header adding proxy applications in order to push state to the
 Registrar and have it returned in subsequent requests for the
 registered UA.

 <p>Parameters added through a URI returned by this method can
 be retrieved from a subsequent request in the same dialog by
 calling <CODE>ServletRequest.getParameter(java.lang.String)</CODE>.

 <p>Note that the URI returned is good <em>only</em> for
 specifying a set of parameters that the application can
 retrieve when invoked to handle subsequent requests
 Other components of the URI are irrelevant and cannot
 be trusted to reflect the actual values that the container will
 be using when inserting a Path header into proxied
 request.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>SIP URI whose parameters can be modified and then retrieved
     by this application when processing subsequent requests for the
     UA
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if addToPath is not enabled<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setNoCancel(boolean)"><!-- --></A><H3>
setNoCancel</H3>
<PRE>
void <B>setNoCancel</B>(boolean&nbsp;noCancel)</PRE>
<DL>
<DD>Specifies whether the proxy should, or should not cancel outstanding
 branches upon receiving the first 2xx INVITE response as defined
 in RFC 3841.
 <p>The default proxy behavior, as per RFC 3261 section 16.7 point 10,
 is to cancel outstanding branches upon receiving the first 2xx response;
 this method allows configuring the proxy to keep the branches and
 forward all 2xx responses upstream.
 <p>Default is <code>false</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>noCancel</CODE> - when true, the proxy will not cancel outstanding branches
        upon receiving the first 2xx response<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNoCancel()"><!-- --></A><H3>
getNoCancel</H3>
<PRE>
boolean <B>getNoCancel</B>()</PRE>
<DL>
<DD>Returns <code>true</code> if the proxy will not cancel outstanding
 branches upon receiving the first 2xx INVITE response as in RFC 3841
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the proxy will not cancel outstanding
         branches upon receiving the first 2xx response,
         <code>false</code> otherwise<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/servlet/sip/Parameterable.html" title="interface in javax.servlet.sip"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/servlet/sip/Proxy.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Proxy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
