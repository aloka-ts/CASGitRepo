<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_14) on Fri Jun 27 17:25:14 PDT 2008 -->
<TITLE>
ProxyBranch (SIP Servlet API 1.1)
</TITLE>

<META NAME="keywords" CONTENT="javax.servlet.sip.ProxyBranch interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ProxyBranch (SIP Servlet API 1.1)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/servlet/sip/Proxy.html" title="interface in javax.servlet.sip"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/servlet/sip/Rel100Exception.html" title="class in javax.servlet.sip"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/servlet/sip/ProxyBranch.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProxyBranch.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.servlet.sip</FONT>
<BR>
Interface ProxyBranch</H2>
<HR>
<DL>
<DT><PRE>public interface <B>ProxyBranch</B></DL>
</PRE>

<P>
A <code>ProxyBranch</code> represents a branch which the Proxy sends out the
 request on. The <code>ProxyBranch</code> object models the branch as used in 
 RFC3261 while describing a stateful proxy.

 For example,
 <pre>
   public void doInvite(SipServletRequest req) {
     ...
     Proxy p = req.getProxy();
     p.setRecordRoute(true);
     List<ProxyBranch> branches = p.createProxyBranches(getTargets(req));
     branches.get(0).setProxyBranchTimeout(5);
     branches.get(1).setProxyBranchTimeout(10);
     p.startProxy();
     ...
   }
 </pre>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#cancel()">cancel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cancels this branch and all the child branches if recursion is enabled and 
 sends a CANCEL to the proxied INVITEs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#cancel(java.lang.String[], int[], java.lang.String[])">cancel</A></B>(java.lang.String[]&nbsp;protocol,
       int[]&nbsp;reasonCode,
       java.lang.String[]&nbsp;reasonText)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This overloaded method of <A HREF="../../../javax/servlet/sip/ProxyBranch.html#cancel()"><CODE>cancel()</CODE></A> provides a way to specify the
 reason for cancelling this branch by including the appropriate Reason headers [RFC 3326].</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getAddToPath()">getAddToPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if subsequent invocations of
 <A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()"><CODE>startProxy()</CODE></A> will add a Path header
 to the proxied request, false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getPathURI()">getPathURI</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a <code>SipURI</code> that the application can use to
 add parameters to the Path header.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/servlet/sip/Proxy.html" title="interface in javax.servlet.sip">Proxy</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getProxy()">getProxy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getProxyBranchTimeout()">getProxyBranchTimeout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current value of the search timeout associated
 with this <code>ProxyBranch</code> object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getRecordRoute()">getRecordRoute</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if subsequent invocations of <A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()"><CODE>proxyTo(URI)</CODE></A>
 will add a Record-Route header to the proxied request, false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getRecordRouteURI()">getRecordRouteURI</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a <code>SipURI</code> that the application can use to
 add parameters to the Record-Route header.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getRecurse()">getRecurse</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this proxy branch object is set to recurse, or false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getRecursedProxyBranches()">getRecursedProxyBranches</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receipt of a 3xx class redirect response on a branch can result in recursed branches
 if the proxy or the branch has recursion enabled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/servlet/sip/SipServletRequest.html" title="interface in javax.servlet.sip">SipServletRequest</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getRequest()">getRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the request associated with this branch.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/servlet/sip/SipServletResponse.html" title="interface in javax.servlet.sip">SipServletResponse</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#getResponse()">getResponse</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <em>last</em> response received on this branch.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#isStarted()">isStarted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The branch can be created using <A HREF="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><CODE>Proxy.createProxyBranches(java.util.List)</CODE></A> and may be
 started at a later time by using <A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()"><CODE>Proxy.startProxy()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#setAddToPath(boolean)">setAddToPath</A></B>(boolean&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies whether this branch should
 include a Path header for the REGISTER request for this servlet
 container or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#setOutboundInterface(java.net.InetAddress)">setOutboundInterface</A></B>(java.net.InetAddress&nbsp;address)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In multi-homed environment this method can be used to select
 the outbound interface to use when sending requests for this
 proxy branch.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#setOutboundInterface(java.net.InetSocketAddress)">setOutboundInterface</A></B>(java.net.InetSocketAddress&nbsp;address)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In multi-homed environment this method can be used to select
 the outbound interface and source port number when forwarding requests
 for this proxy branch.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#setProxyBranchTimeout(int)">setProxyBranchTimeout</A></B>(int&nbsp;seconds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the search timeout value for this
 <code>ProxyBranch</code> object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#setRecordRoute(boolean)">setRecordRoute</A></B>(boolean&nbsp;rr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies whether this branch should
 include a Record-Route header for this servlet engine or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/servlet/sip/ProxyBranch.html#setRecurse(boolean)">setRecurse</A></B>(boolean&nbsp;recurse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies whether the servlet engine will automatically recurse or not.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getRequest()"><!-- --></A><H3>
getRequest</H3>
<PRE>
<A HREF="../../../javax/servlet/sip/SipServletRequest.html" title="interface in javax.servlet.sip">SipServletRequest</A> <B>getRequest</B>()</PRE>
<DL>
<DD>Returns the request associated with this branch.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>object representing the request that is or to be proxied.</DL>
</DD>
</DL>
<HR>

<A NAME="cancel()"><!-- --></A><H3>
cancel</H3>
<PRE>
void <B>cancel</B>()</PRE>
<DL>
<DD>Cancels this branch and all the child branches if recursion is enabled and 
 sends a CANCEL to the proxied INVITEs.
 
 The effect is similar to <A HREF="../../../javax/servlet/sip/Proxy.html#cancel()"><CODE>Proxy.cancel()</CODE></A> except that it is 
 limited to this branch and its children only.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the transaction has already been completed and it has no
         child branches</DL>
</DD>
</DL>
<HR>

<A NAME="cancel(java.lang.String[], int[], java.lang.String[])"><!-- --></A><H3>
cancel</H3>
<PRE>
void <B>cancel</B>(java.lang.String[]&nbsp;protocol,
            int[]&nbsp;reasonCode,
            java.lang.String[]&nbsp;reasonText)</PRE>
<DL>
<DD>This overloaded method of <A HREF="../../../javax/servlet/sip/ProxyBranch.html#cancel()"><CODE>cancel()</CODE></A> provides a way to specify the
 reason for cancelling this branch by including the appropriate Reason headers [RFC 3326].
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>protocol</CODE> - describes the source of the 'cause' field in the Reason header field.<DD><CODE>reasonCode</CODE> - corresponds to the 'cause' field. For eg, if protocol is SIP, the reasonCode
 would be the status code of the response which caused the cancel<DD><CODE>reasonText</CODE> - describes the reason for cancelling the <code>Proxy</code>.<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProxyBranchTimeout()"><!-- --></A><H3>
getProxyBranchTimeout</H3>
<PRE>
int <B>getProxyBranchTimeout</B>()</PRE>
<DL>
<DD>Returns the current value of the search timeout associated
 with this <code>ProxyBranch</code> object. If this value is 
 not explicitly set using the <A HREF="../../../javax/servlet/sip/ProxyBranch.html#setProxyBranchTimeout(int)"><CODE>setProxyBranchTimeout(int)</CODE></A> then
 the value is inherited from the <code>Proxy</code> setting.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the search timeout value in seconds</DL>
</DD>
</DL>
<HR>

<A NAME="setProxyBranchTimeout(int)"><!-- --></A><H3>
setProxyBranchTimeout</H3>
<PRE>
void <B>setProxyBranchTimeout</B>(int&nbsp;seconds)</PRE>
<DL>
<DD>Sets the search timeout value for this
 <code>ProxyBranch</code> object. 
 
 This is the amount of time the container waits for a final response 
 when proxying on this branch. This method can be used to 
 override the default timeout the branch obtains from the <A HREF="../../../javax/servlet/sip/Proxy.html#setProxyTimeout(int)"><CODE>Proxy.setProxyTimeout(int)</CODE></A>
 object. When the timer expires the container CANCELs this branch and
 proxies to the next element in the target set in case the proxy is a sequential proxy.
 In case the proxy is a parallel proxy then this can only set the timeout value of this
 branch to a value lower than the value in the proxy <A HREF="../../../javax/servlet/sip/Proxy.html#getProxyTimeout()"><CODE>Proxy.getProxyTimeout()</CODE></A>. The 
 effect of expiry of this timeout in case of parallel proxy is just to cancel this 
 branch as if an explicit call to <A HREF="../../../javax/servlet/sip/ProxyBranch.html#cancel()"><CODE>cancel()</CODE></A> has been made.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>seconds</CODE> - new search timeout in seconds
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if this value cannot be set by the container. Either it is too high, too low, negative or 
                                  greater than the overall proxy timeout value in parallel case.</DL>
</DD>
</DL>
<HR>

<A NAME="getRecurse()"><!-- --></A><H3>
getRecurse</H3>
<PRE>
boolean <B>getRecurse</B>()</PRE>
<DL>
<DD>Returns true if this proxy branch object is set to recurse, or false otherwise.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if recursing is enabled, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="setRecurse(boolean)"><!-- --></A><H3>
setRecurse</H3>
<PRE>
void <B>setRecurse</B>(boolean&nbsp;recurse)</PRE>
<DL>
<DD>Specifies whether the servlet engine will automatically recurse or not.
 If recursion is enabled the servlet engine will automatically attempt
 to proxy to contact addresses received in redirect (3xx) responses.
 If recursion is disabled and no better response is received, a redirect
 response will be passed to the application and will be passed upstream
 towards the client.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recurse</CODE> - if true enables recursion, otherwise disables it</DL>
</DD>
</DL>
<HR>

<A NAME="getRecordRoute()"><!-- --></A><H3>
getRecordRoute</H3>
<PRE>
boolean <B>getRecordRoute</B>()</PRE>
<DL>
<DD>Returns true if subsequent invocations of <A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()"><CODE>proxyTo(URI)</CODE></A>
 will add a Record-Route header to the proxied request, false otherwise.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>value of the "recordroute" flag</DL>
</DD>
</DL>
<HR>

<A NAME="setRecordRoute(boolean)"><!-- --></A><H3>
setRecordRoute</H3>
<PRE>
void <B>setRecordRoute</B>(boolean&nbsp;rr)</PRE>
<DL>
<DD>Specifies whether this branch should
 include a Record-Route header for this servlet engine or not.
 <p/>
 <p>Record-routing is used to specify that this servlet engine must
 stay on the signaling path of subsequent requests.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rr</CODE> - if true the engine will record-route, otherwise it won't
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the proxy has already been started</DL>
</DD>
</DL>
<HR>

<A NAME="getAddToPath()"><!-- --></A><H3>
getAddToPath</H3>
<PRE>
boolean <B>getAddToPath</B>()</PRE>
<DL>
<DD>Returns true if subsequent invocations of
 <A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()"><CODE>startProxy()</CODE></A> will add a Path header
 to the proxied request, false otherwise.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>value of the "addToPath" flag<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setAddToPath(boolean)"><!-- --></A><H3>
setAddToPath</H3>
<PRE>
void <B>setAddToPath</B>(boolean&nbsp;p)</PRE>
<DL>
<DD>Specifies whether this branch should
 include a Path header for the REGISTER request for this servlet
 container or not.

 <p>Path header is used to specify that this Proxy must
 stay on the signaling path of subsequent requests sent to the
 Registered UA from the Home Proxy in the network. As a best practice,
 before calling this method a proxy should check if the UA has indicated
 support for the Path extension by checking the Supported header field
 value in the request being proxied. The detailed procedure of Path header
 handling is defined in RFC 3327.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - if true the container will add Path header<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRecordRouteURI()"><!-- --></A><H3>
getRecordRouteURI</H3>
<PRE>
<A HREF="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</A> <B>getRecordRouteURI</B>()</PRE>
<DL>
<DD>Returns a <code>SipURI</code> that the application can use to
 add parameters to the Record-Route header. This is used by
 record-routing proxy applications in order to push state to the
 endpoints and have it returned in subsequent requests belonging
 to the same dialog.
 
 <p>Parameters added through a URI returned by this method can
 be retrieved from a subsequent request in the same dialog by
 calling <CODE>ServletRequest.getParameter(java.lang.String)</CODE>.
 
 <p>Note that the URI returned is good <em>only</em> for
 specifying a set of parameters that the application can
 retrieve when invoked to handle subsequent requests in the same
 dialog. Other components of the URI are irrelevant and cannot
 be trusted to reflect the actual values that the container will
 be using when inserting a Record-Route header into proxied
 request.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>SIP URI whose parameters can be modified and then retrieved
     by this application when processing subsequent requests in the
     same SIP dialog
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if record-routing is not enabled</DL>
</DD>
</DL>
<HR>

<A NAME="getPathURI()"><!-- --></A><H3>
getPathURI</H3>
<PRE>
<A HREF="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</A> <B>getPathURI</B>()</PRE>
<DL>
<DD>Returns a <code>SipURI</code> that the application can use to
 add parameters to the Path header. This may be used by
 Path header adding proxy applications in order to push state to the
 Registrar and have it returned in subsequent requests for the
 registered UA.

 <p>Parameters added through a URI returned by this method can
 be retrieved from a subsequent request in the same dialog by
 calling <CODE>ServletRequest.getParameter(java.lang.String)</CODE>.

 <p>Note that the URI returned is good <em>only</em> for
 specifying a set of parameters that the application can
 retrieve when invoked to handle subsequent requests
 Other components of the URI are irrelevant and cannot
 be trusted to reflect the actual values that the container will
 be using when inserting a Path header into proxied
 request.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>SIP URI whose parameters can be modified and then retrieved
     by this application when processing subsequent requests for the
     UA
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if addToPath is not enabled<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setOutboundInterface(java.net.InetSocketAddress)"><!-- --></A><H3>
setOutboundInterface</H3>
<PRE>
void <B>setOutboundInterface</B>(java.net.InetSocketAddress&nbsp;address)</PRE>
<DL>
<DD>In multi-homed environment this method can be used to select
 the outbound interface and source port number when forwarding requests
 for this proxy branch.
 The specified address must be the address of one of the configured
 outbound interfaces. The set of SipURI objects which represent the
 supported outbound interfaces can be obtained from the servlet context
 attribute named <code>javax.servlet.sip.outboundInterfaces</code>.
 <p>The port is interpreted as an advice by the app to the container.
 If the port of the socket address has a non-zero value, the container
 will make a best-effort attempt to use it as the source port number
 for UDP packets, or as a source port number for TCP connections it
 originates. If the port is not available, the container will use
 its default port allocation scheme.  
 <p>Invocation of this method also impacts the system headers
 generated by the container for this ProxyBranch, such as the
 <code>Record-Route</code> header (<A HREF="../../../javax/servlet/sip/ProxyBranch.html#getRecordRouteURI()"><CODE>getRecordRouteURI()</CODE></A>),
 the <code>Via</code> and the <code>Contact</code> header.
 The IP address part of the socket <code>address</code> is used to construct
 these system headers.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>address</CODE> - the socket address representing the outbound interface to use when
             forwarding requests with this proxy branch
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the <code>address</code> is not understood
                                  by the container as one of its outbound interface
<DD><CODE>java.lang.NullPointerException</CODE> - on null <code>address</code><DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setOutboundInterface(java.net.InetAddress)"><!-- --></A><H3>
setOutboundInterface</H3>
<PRE>
void <B>setOutboundInterface</B>(java.net.InetAddress&nbsp;address)</PRE>
<DL>
<DD>In multi-homed environment this method can be used to select
 the outbound interface to use when sending requests for this
 proxy branch.
 The specified address must be the address of one of the configured
 outbound interfaces. The set of SipURI objects which represent the
 supported outbound interfaces can be obtained from the servlet context
 attribute named <code>javax.servlet.sip.outboundInterfaces</code>.
 <p>Invocation of this method also impacts the system headers
 generated by the container for the branch, such as the
 <code>Record-Route</code> header (<A HREF="../../../javax/servlet/sip/ProxyBranch.html#getRecordRouteURI()"><CODE>getRecordRouteURI()</CODE></A>)
 and the <code>Via</code>. The supplied IP address is used to construct
 these system headers.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>address</CODE> - the address which represents the outbound interface
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if this method is called on an invalidated session
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the <code>address</code> does not
                                  represent one of the container's outbound interfaces
<DD><CODE>java.lang.NullPointerException</CODE> - on null <code>address</code><DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getResponse()"><!-- --></A><H3>
getResponse</H3>
<PRE>
<A HREF="../../../javax/servlet/sip/SipServletResponse.html" title="interface in javax.servlet.sip">SipServletResponse</A> <B>getResponse</B>()</PRE>
<DL>
<DD>Returns the <em>last</em> response received on this branch.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the last <code>SipServletResponse</code> received, or null if
    no response has been received so far.</DL>
</DD>
</DL>
<HR>

<A NAME="isStarted()"><!-- --></A><H3>
isStarted</H3>
<PRE>
boolean <B>isStarted</B>()</PRE>
<DL>
<DD>The branch can be created using <A HREF="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><CODE>Proxy.createProxyBranches(java.util.List)</CODE></A> and may be
 started at a later time by using <A HREF="../../../javax/servlet/sip/Proxy.html#startProxy()"><CODE>Proxy.startProxy()</CODE></A>. This method tells if the given 
 branch has been started yet or not. The branches created as a result of <code>proxyTo</code> 
 are always started on creation.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>whether the branch has been started or not</DL>
</DD>
</DL>
<HR>

<A NAME="getRecursedProxyBranches()"><!-- --></A><H3>
getRecursedProxyBranches</H3>
<PRE>
java.util.List&lt;<A HREF="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</A>&gt; <B>getRecursedProxyBranches</B>()</PRE>
<DL>
<DD>Receipt of a 3xx class redirect response on a branch can result in recursed branches
 if the proxy or the branch has recursion enabled. This can result in several levels of 
 recursed branches in a tree like fashion. This method returns the top level branches
 directly below this <code>ProxyBranch</code>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the top level branches below this ProxyBranch</DL>
</DD>
</DL>
<HR>

<A NAME="getProxy()"><!-- --></A><H3>
getProxy</H3>
<PRE>
<A HREF="../../../javax/servlet/sip/Proxy.html" title="interface in javax.servlet.sip">Proxy</A> <B>getProxy</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the associated proxy with this branch</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/servlet/sip/Proxy.html" title="interface in javax.servlet.sip"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/servlet/sip/Rel100Exception.html" title="class in javax.servlet.sip"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/servlet/sip/ProxyBranch.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProxyBranch.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
