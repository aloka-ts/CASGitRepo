<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project [<!ENTITY buildfile SYSTEM "file:./build-user.xml">]>
<!-- WARNING: Eclipse autogenerated file. 
              Any modifications will be overwritten.
              Please edit build-user.xml instead.
-->
<project name="com.baypackets.sas.ide" default="build" basedir=".">
    &buildfile;
    <property name="src" value="/vob/Sipservlet/src"/>
    <property file="${src}/build/ant.properties"/>
    <property name="ide.dir" Value="${INSTALLROOT}/ide"/>
    <property name="eclipse.dir" Value="${THIRDPARTY}/eclipse3.1"/>
	<!-- Define the project class path -->
    	<path id="project.classpath">
        <pathelement location="bin"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.ui_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.swt_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.swt.gtk.linux.x86_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.jface_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.core.commands_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.ui.workbench_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.core.runtime_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.osgi_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.core.resources_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.jdt.launching_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.jdt_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.debug.core_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.debug.ui_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.jdt.core_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.core.boot_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.core.expressions_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.core.variables_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.jdt.ui_3.1.0.jar"/>
        <pathelement location="${THIRDPARTY}/eclipse/eclipse3.3/plugins/org.eclipse.ui.ide_3.3.0.I20070620.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.ui.forms_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.jface.text_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.ui.editors_3.1.0.jar"/>
        <pathelement location="${eclipse.dir}/plugins/org.eclipse.ui.workbench.texteditor_3.1.0.jar"/>
        <pathelement location="${THIRDPARTY}/otherjars/jakarta-oro-2.0.6.jar"/>   
        <pathelement location="${THIRDPARTY}/eclipse/eclipse3.3/plugins/org.eclipse.text_3.3.0.v20070606-0010.jar"/>   
        <pathelement location="${THIRDPARTY}/eclipse/eclipse3.3/plugins/org.eclipse.wst.xml.ui_1.0.300.v200705302225.jar"/>
        <pathelement location="${THIRDPARTY}/eclipse/eclipse3.3/plugins/org.apache.ant_1.7.0.v200706080842/lib/ant.jar"/>
        <pathelement location="${THIRDPARTY}/eclipse/eclipse3.3/plugins/org.apache.ant_1.7.0.v200706080842/lib/ant-launcher.jar"/>    
        <pathelement location="${THIRDPARTY}/eclipse/eclipse3.3/plugins/org.eclipse.wst.sse.ui_1.0.302.v200706192034.jar"/>	
        <fileset dir="${ide.dir}/library">
        	<include name="*.jar"/>
      	</fileset>
    </path>

    <target name="init">
        <mkdir dir="${ide.dir}"/>
        <mkdir dir="${ide.dir}/bin"/>
        <mkdir dir="${ide.dir}/library"/>

	<!--
	<ant dir="../build" target="ext"/>
	-->

	<echo message="Copying the lib files....." />
	<copy todir="${ide.dir}/library">
  		<fileset dir="${ide.dir}/../bpjars">
                    <include name="bpsbb.jar"/>
                    <include name="bpari.jar"/>
                    <include name="jmxide.jar"/>
                    <include name="sasdd.jar"/>
                    <include name="bpresource.jar"/>
                    <include name="soa-iface.jar"/>
                    <include name="alc.jar"/> 
                    <include name="tcap-provider-api.jar"/>
                </fileset>
            	<fileset dir="${ide.dir}/../otherjars">
                    <include name="servlet-2.4.jar"/>
                    <include name="sipservlet.jar"/>
                    <include name="log4j-1.2.8.jar"/>
                    <include name="jmx*.jar"/>
                    <include name="jdom.jar"/>
                </fileset>
               
                 <fileset dir="${ide.dir}/../alcjars">  
                   <include name="alc_JAXB.jar"/>
                </fileset>
               
        </copy>
	<echo message="Copied the lib files....." />

       <copy todir="${ide.dir}/library"
                      file="${THIRDPARTY}/otherjars/jakarta-oro-2.0.6.jar"/>

 
    </target>
    <target name="clean">
        <delete dir="${ide.dir}"/>
    </target>
    <target name="build" depends="init">
        <echo message="${ant.project.name}: ${ant.file}"/>

	<!--  Copy the NON JAVA resource files into the bin directory -->
	<copy todir="${ide.dir}/bin">
        	<fileset dir="${src}/ide/src">
        		<exclude name="**/*.java"/>
        		<exclude name="**/*contrib*"/>
        	</fileset>
        </copy>

	<!-- Compile the JAVA Source Files -->
        <javac destdir="${ide.dir}/bin">
            <src path="${src}/ide/src"/>
            <classpath refid="project.classpath"/>
        </javac>

	<!-- Copy the other required files to the buildDir -->
	<copy todir="${ide.dir}">
		<fileset dir="${src}/ide">
                    <include name="conf/**"/>
                    <include name="icons/**"/>
                    <include name="resources/**"/>
                    <include name="META-INF/**"/>
                    <include name="build.properties"/>
                    <include name="toc.xml"/>
                    <include name="plugin.xml"/>
		</fileset>
	</copy>

    <!--    <mkdir dir="${ide.dir}/resources/alc/alcml"/> -->  
<!--  <copy todir="${ide.dir}/resources/alc/alcml" file="${ide.dir}/../AlcClasses/ApplicationLogicController/build/alc-compiler.jar"/> -->
       <unjar src="${ide.dir}/../AlcClasses/ApplicationLogicController/build/alc-compiler.jar" dest="${ide.dir}/resources/alc/alcml"/>    
                                                                                                                                  
 <copyfile src="${ide.dir}/resources/alc/alcml/src/ApplicationLogicControl.xsd" dest="${ide.dir}/resources/alc/alcml/src/tmpApplicationLogicControl.xsd" />
 
    </target>
</project>

